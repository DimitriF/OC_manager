# scan(f,n=1, quiet=F,what = "character")
}
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
for(i in seq(length(gcode))){
# "N" + str(lineno) + " " + command
write(gcode[i,],file=f)
Sys.sleep(1)
# scan(f,n=1, quiet=F,what = "character")
}
close(f)
gcode = read.csv("gcode/LED.gcode",header=F)
gcode = as.vector(gcode)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
for(i in seq(length(gcode))){
# "N" + str(lineno) + " " + command
write(gcode[i,],file=f)
Sys.sleep(1)
# scan(f,n=1, quiet=F,what = "character")
}
for(i in seq(length(gcode))){
# "N" + str(lineno) + " " + command
write(gcode[i,],file=f)
print(gcode[i,])
Sys.sleep(1)
# scan(f,n=1, quiet=F,what = "character")
}
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(gcode[i,],file=f)
print(gcode[i,])
# scan(f,n=1, quiet=F,what = "character")
}
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(gcode[i,],file=f)
print(gcode[i,])
Sys,sleep(0.1)
# scan(f,n=1, quiet=F,what = "character")
}
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(gcode[i,],file=f)
print(gcode[i,])
Sys.sleep(0.1)
# scan(f,n=1, quiet=F,what = "character")
}
write("M42 P63 S255",file = f)
write("M42 P63 S0",file = f)
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character")
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
print(gcode[i,])
Sys.sleep(0.1)
# scan(f,n=1, quiet=F,what = "character")
}
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
print(gcode[i,])
Sys.sleep(0.1)
scan(f,n=1, quiet=F,what = "character")
}
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
# print(gcode[i,])
Sys.sleep(0.1)
scan(f,n=1, quiet=F,what = "character")
}
for(i in seq(nrow(gcode))){
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(paste0("N",i," ",as.character(gcode[i,])),file=f)
# print(gcode[i,])
Sys.sleep(0.1)
scan(f,n=1, quiet=F,what = "character")
}
scan(f,n=1, quiet=F,what = "character")
?scan
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(paste0("N",i," ",as.character(gcode[i,])),file=f)
# print(gcode[i,])
if(x!="ok:"){
Sys.sleep(0.1)
x = scan(f,n=1, quiet=F,what = "character")
}
}
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(paste0("N",i," ",as.character(gcode[i,])),file=f)
# print(gcode[i,])
x = scan(f,n=1, quiet=F,what = "character")
if(x!="ok:"){
Sys.sleep(0.1)
x = scan(f,n=1, quiet=F,what = "character")
}
}
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M42 P63 S255",file = f)
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character",sep="\n")
scan(f,n=1, quiet=F,what = "character",sep="\n")
scan(f,n=1, quiet=F,what = "character",sep="\n")
scan(f,n=1, quiet=F,what = "character",sep="\n")
scan(f,n=1, quiet=F,what = "character",sep="\n")
scan(f,n=1, quiet=F,what = "character",sep="\n")
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(paste0("N",i," ",as.character(gcode[i,])),file=f)
# print(gcode[i,])
x = scan(f,n=1, quiet=F,what = "character",sep="\n")
if(x!="ok:"){
Sys.sleep(0.1)
x = scan(f,n=1, quiet=F,what = "character",sep="\n")
}
}
write("M42 P63 S255",file = f)
write("M42 P63 S0",file = f)
scan(f,n=1, quiet=F,what = "character",sep="\n")
scan(f,n=1, quiet=F,what = "character")
write("M42 P63 S0",file = f)
scan(f,n=1, quiet=F,what = "character")
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M42 P63 S255",file = f)
scan(f,n=1, quiet=F,what = "character",sep="\n")
write("M42 P63 S0",file = f)
scan(f,n=1, quiet=F,what = "character")
write("M42 P63 S255",file = f)
scan(f,n=1, quiet=F,what = "character",sep="\n")
write("M42 P63 S0",file = f)
scan(f,n=1, quiet=F,what = "character")
close(f)
gcode = read.csv("gcode/LED.gcode",header=F)
gcode = as.vector(gcode)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(paste0("N",i," ",as.character(gcode[i,])),file=f)
# print(gcode[i,])
x = scan(f,n=1, quiet=F,what = "character",sep="\n")
if(x!="ok:"){
Sys.sleep(0.1)
x = scan(f,n=1, quiet=F,what = "character",sep="\n")
}
}
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(paste0("N",i," ",as.character(gcode[i,])),file=f)
# print(gcode[i,])
while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
Sys.sleep(0.1)
}
}
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
scan(f,n=1, quiet=F,what = "character",sep="\n")
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(paste0("N",i-1," ",as.character(gcode[i,])),file=f)
# print(gcode[i,])
while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
Sys.sleep(0.1)
}
}
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(paste0("N",i-1," ",as.character(gcode[i,])),file=f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
#   Sys.sleep(0.1)
# }
}
close(f)
close(f)
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(paste0("N",i-1," ",as.character(gcode[i,])),file=f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
#   Sys.sleep(0.1)
# }
}
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M42 P63 S0",file = f)
scan(f,n=1, quiet=F,what = "character")
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(paste0("N",i-1," ",as.character(gcode[i,])),file=f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
#   Sys.sleep(0.1)
# }
}
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(paste0("N",i-1," ",as.character(gcode[i,])),file=f)
# print(gcode[i,])
while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
Sys.sleep(0.1)
}
}
scan(f,n=1, quiet=F,what = "character",sep="\n")
scan(f,n=1, quiet=F,what = "character")
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(paste0("N",i-1," ",as.character(gcode[i,])),file=f)
# print(gcode[i,])
while(scan(f,n=1, quiet=T,what = "character",sep="\n") != "ok"){
Sys.sleep(0.1)
}
}
readLines(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
readLines(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(paste0("N",i," ",as.character(gcode[i,])),file=f)
# print(gcode[i,])
while(scan(f,n=1, quiet=T,what = "character",sep="\n") != "ok"){
Sys.sleep(0.1)
}
}
close(f)
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(paste0("N",i," ",as.character(gcode[i,])),file=f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=T,what = "character",sep="\n") != "ok"){
#   Sys.sleep(0.1)
# }
}
close(f)
write("M42 P63 S0",file = f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M42 P63 S0",file = f)
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character",sep="\n")
scan(f,n=1, quiet=F,what = "character",sep="\n")
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
# "N" + str(lineno) + " " + command
write(paste0("N",i," ",as.character(gcode[i,])),file=f)
scan(f,n=1, quiet=F,what = "character",sep="\n")
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
# print(gcode[i,])
while(scan(f,n=1, quiet=T,what = "character",sep="\n") != "ok"){
Sys.sleep(0.1)
}
}
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
# print(gcode[i,])
while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
Sys.sleep(0.1)
}
}
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
while(readLines(f) != "ok")
Sys.sleep(0.1)
}
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
readLines(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
readLines(f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
while(readLines(f) != "ok")
Sys.sleep(0.1)
}
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
readLines(f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
while(readLines(f) != "ok"){
Sys.sleep(0.1)
}
}
readLines(f)
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
readLines(f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
while(length(readLines(f) == 0){
Sys.sleep(0.1)
}
}
close(f)
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
readLines(f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
while(length(readLines(f) == 0)){
Sys.sleep(0.1)
}
}
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
readLines(f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
r = NULL
while(is.null(r) | length(r) == 0 | r != "of")){
r = readLines(f)
Sys.sleep(0.1)
}
}
close(f)
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
readLines(f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
r = NULL
while(is.null(r) | length(r) == 0 | r != "ok"){
r = readLines(f)
Sys.sleep(0.1)
}
}
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
readLines(f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
# r = NULL
r = readLines(f)
while(length(r) == 0 | r != "ok"){
r = readLines(f)
Sys.sleep(0.1)
}
}
close(f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
# r = NULL
r = readLines(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
readLines(f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
# r = NULL
r = readLines(f)
r
length(r)
r != "ok"
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
readLines(f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
# r = NULL
r = readLines(f)
while(length(r) == 0){
r = readLines(f)
Sys.sleep(0.1)
}
}
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M110",file=f)
readLines(f)
for(i in seq(nrow(gcode))){
# "N" + str(lineno) + " " + command
write(as.character(gcode[i,]),file=f)
# print(gcode[i,])
# while(scan(f,n=1, quiet=F,what = "character",sep="\n") != "ok"){
# r = NULL
r = readLines(f)
while(length(r) == 0){
r = readLines(f)
print(r)
Sys.sleep(0.1)
}
}
readLines(f)
write("M42 P63 S0",file = f)
write("M42 P63 S255",file = f)
readLines(f)
scan(f,n=1, quiet=F,what = "character",sep="\n")
scan(f,n=1, quiet=F,what = "character")
write("M42 P63 S0",file = f)
close(f)
f <- file(dir("/dev",pattern = "ttyACM",full.names = T), open="r+")
write("M42 P63 S0",file = f)
scan(f,n=1, quiet=F,what = "character")
scan(f,n=1, quiet=F,what = "character",sep="\n")
write("M42 P63 S255",file = f)
scan(f,n=1, quiet=F,what = "character",sep="\n")
write("M42 P63 S0",file = f)
scan(f,n=1, quiet=F,what = "character")
library(shinyBS)
shiny::runApp(launch.browser = T,host = "0.0.0.0",port=5571)
shiny::runApp(launch.browser = T,host = "0.0.0.0",port=5571)
64000*3000
64000*3000/1000000
system("sudo rsync -a -v /home/clau/MEGA/OC/Software/OC_manager/ pi@134.176.158.78:/home/pi/OC_manager/")
dir("/home/clau/Dropbox/")
shiny::runApp(launch.browser = T,host = "0.0.0.0",port=5571)
shiny::runApp(launch.browser = T,host = "0.0.0.0",port=5571)
shiny::runApp(launch.browser = T,host = "0.0.0.0",port=5571)
## server_TLC_MS for OC_manager
##
TLC_MS_x_width = 2000
TLC_MS_y_height = 1000
data=array(1,dim=c(TLC_MS_y_height,TLC_MS_x_width,3))
raster(data)
shiny::runApp(launch.browser = T,host = "0.0.0.0",port=5571)
shinytest::recordTest()
shinytest::shinytest()
testApp()
shinytest::recordTest()
shinytest::recordTest()
shinytest::recordTest()
shinytest::recordTest()
shiny::runApp(launch.browser = T,host = "0.0.0.0",port=5571)
