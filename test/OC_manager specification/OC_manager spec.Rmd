---
title: "OC_manager specification"
author: "Dimitri Fichou"
date: "February 21, 2017"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction

Document to list the secification needed for OC_manager. So far, we have a prototype that is working but it's just a prototype. We must make it so it can evolve to integrate other functionality and step of the OC pipeline.

## Current state

Software is written in R shiny, could be better in Python but hey, R is also interesting as it is the data analysis language and we are producing data. So we can see the OC as a data producing tool which transform the samples into analytical result. We use the shinydashboard package, it allows to split the steps easily even though at the end, all steps must be together.

The software is made to be hosted on a raspberry pi which in turn communicate to the arduino. It also works great on a laptop but is harder to install, advantage is about the computing time but the pi can do it if functions are optimize.

The steps are produced on the fly in the software and any order can be created with any number of step, so far, they can be save and reload.

To create a Gcode (that can be executed already), the user, selet a step, access an option table, update the step to make a plot and the Gcode. THere si a few bug but it works. The Gcode creation and plot creation is supported by functions that take the option table(s) as input.

The full method is stored in a list with steps as elements. Each step is also a list with several element from title to option table.

The method are stored in a folder __methods__. There is a __tables__ folder where the default option table are stored. A __gocde__ folder to store the gcode files that are then executed, we will have a problem of memory here. There is a __log__ folder that contain a csv file where every actions are recorded, it could use a bit of cleaning. The server call the __server_X.R__ files that in turn give a lot of renderUI. There is a __config.R__ file. There is a __login.csv__ file to put user login and passwords, which enable protection and in particular better log for GMP.

## Current iteration - done

Put the functions directly in the step list. and take the step list as argument of the function. this way, change are easier to implement and stuff that works keep working.

Stop button in method.

rhandsontable implemented

clean table to fit with rhandsontable


## Current iteration - to do

Clean the log file append. (login, board connection, test_ink,method, visu). Column: Time, Step, File, Log, Visa, Plate

Make check box, select and text input in option tables, 

put origin and position bias somewhere (config.R ???)

Back up data ?? online or on the local network ??



